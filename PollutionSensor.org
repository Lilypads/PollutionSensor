-*- line-spacing: 0.1; -*-
#+TITLE: Pollution Sensor
#+STARTUP: latexpreview
#+STARTUP: show2levels
#+INCLUDE: "~/.doom.d/orgReportHeader.org"
#+OPTIONS: H:3 d:nil tags:nil email:t toc:t broken-links:t ^:nil #\n:t

* Table Of Contents :TOC_2:
- [[#overview][Overview]]
  - [[#objectives][Objectives]]
  - [[#capabilities][Capabilities]]
-  [[#misc][Misc]]
  - [[#i2c-on-pi][I2C On Pi]]
- [[#hardware][Hardware]]
  - [[#pi-hat][Pi Hat]]
  - [[#particle-sensor][Particle Sensor]]
  - [[#rotary-encoder][Rotary Encoder]]
  - [[#i2c-display][I2C Display]]
  - [[#storage-device][Storage Device]]
  - [[#battery][Battery]]
- [[#software][Software]]
  - [[#usage-state-machine][Usage State Machine]]
  - [[#user-interface][User Interface]]
  - [[#particle-sensor-kernel-module][Particle Sensor Kernel Module]]
  - [[#gps-kernel-module][GPS Kernel Module]]

* Overview
** Objectives
*** User Stories
** Capabilities
*  Misc
** I2C On Pi
*** enable raspberry Pi i2c Interface
- Run the following Command:
#+begin_src bash
sudo rasp-config
#+end_src
- Select interface options
- Enable I2C kernel module
*** Look for I2C devices
#+begin_src bash
i2cdetect -y 1
#+end_src
* Hardware
** Pi Hat
*** Hardware Interfaces
**** Particle Sensor
**** Rotary Encoder
**** I2C Display
** Particle Sensor
** Rotary Encoder
** I2C Display
#+ATTR_ORG: :width 400
[[file:Figures/Oled Display.png]]
- 128\times64 Pixel Monochrome Oled
- I2C
*** I2C
| Address      |    0x3C |
| Interface IC | SSD1306 |

*** Libraries
**** candidates
- https://github.com/bitbank2/ss_oled
  + good feature-set
  + 128 stars on github
  + good documentation
  + Depends on BitBang_I2C library
  + last commit one month ago
- https://github.com/iliapenev/ssd1306_i2c
  + 33 stars
  + 22 forks - lots of forks for not very many stars
  + last commit 2016
*** [[file:Resource/SSD1306.pdf][SSD1306 Datasheet]]

** Storage Device
- Use onboard SD Card
** Battery
- Currently Just a USB Power Brick
* Software
** Usage State Machine
** User Interface
*** Menu System
*** Configurable Options
*** Live Display
** Particle Sensor Kernel Module
** GPS Kernel Module
